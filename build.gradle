apply plugin: 'groovy'
apply plugin: 'java-gradle-plugin'
apply plugin: 'maven-publish'

group = 'com.versionthing'
version = '0.1.0'

repositories {
    mavenCentral()
}

gradlePlugin {
    plugins {
        versionThing {
            id = 'version-thing'
            implementationClass = 'com.versionthing.VersionThing'
        }
    }
}

publishing {
    repositories {
        maven {
            name = "GitHubPackages"
            url = uri("https://maven.pkg.github.com/joshgvines/version-thing")
            credentials {
                username = System.getenv("GITHUB_ACTOR")
                password = System.getenv("GITHUB_TOKEN")
            }
        }
    }
}